<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<title>Game To√°n 11 - AI Cat Quiz</title>

<style>
body{
  font-family:"Segoe UI",Arial,sans-serif;
  background:linear-gradient(135deg,#ffe4ec,#fff1f5);
  text-align:center;
  margin:0;
}

.box{
  background:white;
  width:92%;
  max-width:650px;
  margin:40px auto;
  padding:25px;
  border-radius:20px;
  box-shadow:0 12px 28px rgba(0,0,0,.18);
}

.top{
  display:flex;
  justify-content:space-between;
  font-weight:bold;
  color:#db2777;
}

h2{ color:#be185d; }

#question{
  font-size:18px;
  margin:16px 0;
}

button{
  display:block;
  width:100%;
  margin:10px 0;
  padding:14px;
  font-size:16px;
  border-radius:16px;
  border:none;
  cursor:pointer;
  background:#f472b6;
  color:white;
  transition:.2s;
}

button:hover{
  background:#ec4899;
  transform:scale(1.03);
}

.ai{
  background:#5eead4;
  color:#065f46;
}

.ai:hover{ background:#2dd4bf; }

.ai:disabled{
  background:gray;
  cursor:not-allowed;
}

#feedback{
  font-weight:bold;
  font-size:20px;
  min-height:36px;
}

.cat{
  font-size:42px;
  transition:.2s;
}

.cat.win{ animation:bounce .4s; }
.cat.lose{ animation:shake .4s; }

@keyframes bounce{
  0%{transform:translateY(0)}
  50%{transform:translateY(-10px)}
  100%{transform:translateY(0)}
}

@keyframes shake{
  0%{transform:translateX(0)}
  25%{transform:translateX(-6px)}
  50%{transform:translateX(6px)}
  75%{transform:translateX(-6px)}
  100%{transform:translateX(0)}
}

.hearts{
  font-size:22px;
}
</style>
</head>

<body>

<div class="box">
  <div class="top">
    <span>‚è±Ô∏è <span id="time">30</span>s</span>
    <span class="hearts" id="hearts">‚ù§Ô∏è‚ù§Ô∏è‚ù§Ô∏è</span>
  </div>

  <div id="cat" class="cat">üê±</div>
  <h2>Game To√°n 11 ‚Äì AI M√®o</h2>

  <p id="question"></p>
  <div id="answers"></div>

  <button id="aiBtn" class="ai" onclick="useAI()">ü§ñüê± AI m√®o g·ª£i √Ω (1 l·∫ßn)</button>
  <p id="feedback"></p>
</div>

<script>
let score=0;
let mainIndex=0;
let subIndex=0;
let inSub=false;
let lives=3;
let time=30;
let timer;
let aiUsed=false;

const mainQuestions=[
{q:"S·ªë nghi·ªám d∆∞∆°ng c·ªßa (1/3)^x = 9 l√†:",a:["1","2","3","0"],correct:1},
{q:"Nghi·ªám c·ªßa 3^(x+1) = (1/9)^(2x) l√†:",a:["x = -1/5","x = 1/5","x = 1","x = -1"],correct:0},
{q:"T·ªïng nghi·ªám c·ªßa log‚ÇÉ(x¬≤+2)=3 l√†:",a:["1","3","0","2"],correct:2},
{q:"S·ªë nghi·ªám d∆∞∆°ng c·ªßa ln(x¬≤‚àí6x+7)=ln(x‚àí3) l√†:",a:["3","0","2","1"],correct:3},
{q:"S·ªë nghi·ªám c·ªßa log‚ÇÅ/‚ÇÉ(x¬≤‚àí3x‚àí1)+log‚ÇÉ(2‚àíx)=0 l√†:",a:["2","1","3","0"],correct:0}
];

const subQuestions=[
{q:"T·∫≠p nghi·ªám log‚ÇÇ(x¬≤‚àí5x+7)<0 l√†:",a:["(3;+‚àû)","(2;3)","(-‚àû;2)","(-‚àû;2)‚à™(3;+‚àû)"],correct:1},
{q:"Gi·∫£i log‚ÇÅ/‚ÇÇ(2x‚àí3)<log‚ÇÅ/‚ÇÇ(5‚àí2x). T√≠nh a+b:",a:["11/2","7/2","13/2","9/2"],correct:3},
{q:"log‚ÇÑ(x¬≤‚àí4x)>log‚ÇÇ(8‚àíx) c√≥ bao nhi√™u nghi·ªám nguy√™n?",a:["3","V√¥ s·ªë","2","1"],correct:2},
{q:"Gi√° tr·ªã a^(log‚Çêa¬≤) l√†:",a:["2·µÉ","a¬≤","2a","2"],correct:1},
{q:"Gi√° tr·ªã log‚Çá(7a) l√†:",a:["log‚Çá7+log‚Çáa","1+log‚Çáa","log‚Çáa","7log‚Çáa"],correct:1}
];

function loadQuestion(){
 clearInterval(timer);
 time=30;
 document.getElementById("time").innerText=time;
 timer=setInterval(countDown,1000);

 let q=inSub?subQuestions[subIndex]:mainQuestions[mainIndex];
 document.getElementById("question").innerText=q.q;
 document.getElementById("answers").innerHTML="";
 document.getElementById("feedback").innerText="";
 document.getElementById("cat").innerText="üê±";
 document.getElementById("cat").className="cat";

 q.a.forEach((ans,i)=>{
  let b=document.createElement("button");
  b.innerText=ans;
  b.onclick=()=>checkAnswer(i);
  document.getElementById("answers").appendChild(b);
 });
}

function countDown(){
 time--;
 document.getElementById("time").innerText=time;
 if(time<=0){
  clearInterval(timer);
  loseLife("‚è∞ H·∫øt gi·ªù!");
 }
}

function loseLife(msg){
 lives--;
 document.getElementById("hearts").innerText="‚ù§Ô∏è".repeat(lives);
 document.getElementById("feedback").innerText=msg;
 let cat=document.getElementById("cat");
 cat.innerText="üòø";
 cat.classList.add("lose");

 if(lives<=0) setTimeout(lose,800);
 else setTimeout(loadQuestion,900);
}

function checkAnswer(c){
 clearInterval(timer);
 let q=inSub?subQuestions[subIndex]:mainQuestions[mainIndex];

 if(c===q.correct){
  score+=10;
  let cat=document.getElementById("cat");
  cat.innerText="üò∏‚ú®";
  cat.classList.add("win");
  document.getElementById("feedback").innerText="ƒê√∫ng r·ªìi n√®ee!";
  inSub=false;
  mainIndex++;
  setTimeout(loadQuestion,900);
 }else{
  loseLife("Sai r·ªìi m√®o bu·ªìn üò¢");
 }
}

function useAI(){
 if(aiUsed) return;
 aiUsed=true;
 document.getElementById("aiBtn").disabled=true;
 document.getElementById("feedback").innerText=
 "ü§ñüê± G·ª£i √Ω: x√©t ƒëi·ªÅu ki·ªán x√°c ƒë·ªãnh tr∆∞·ªõc nha!";
}

function lose(){
 document.querySelector(".box").innerHTML=`
 <h1>üòø M√àO H·∫æT TIM</h1>
 <p>C·∫ßn √¥n l·∫°i Logarit nh√©!</p>
 <p><b>ƒêi·ªÉm:</b> ${score}</p>
 `;
}

loadQuestion();
</script>
</body>
</html>
